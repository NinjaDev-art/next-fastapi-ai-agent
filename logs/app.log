2025-06-04 13:03:49,086 - app.main - INFO - MONGODB_URI: mongodb://localhost:27017
2025-06-04 13:03:49,086 - app.main - INFO - DB_NAME: edith-chat
2025-06-04 13:03:49,086 - app.main - INFO - OPENAI_API_KEY: Set
2025-06-04 13:03:49,086 - app.main - INFO - ANTHROPIC_API_KEY: Set
2025-06-04 13:03:49,087 - app.main - INFO - DEFAULT_MODEL: gpt-3.5-turbo
2025-06-04 13:03:49,087 - app.main - INFO - EMBEDDING_MODEL: text-embedding-3-small
2025-06-04 13:03:49,087 - app.main - INFO - AWS_CDN_URL: https://edith.nyc3.cdn.digitaloceanspaces.com
2025-06-04 13:03:49,087 - app.main - INFO - DEBUG: False
2025-06-04 13:03:49,087 - app.main - INFO - CORS_ORIGINS: ['*']
2025-06-04 13:06:03,267 - app.main - INFO - MONGODB_URI: mongodb://localhost:27017/
2025-06-04 13:06:03,267 - app.main - INFO - DB_NAME: edith-chatapp
2025-06-04 13:06:03,268 - app.main - INFO - OPENAI_API_KEY: Set
2025-06-04 13:06:03,268 - app.main - INFO - ANTHROPIC_API_KEY: Set
2025-06-04 13:06:03,268 - app.main - INFO - DEFAULT_MODEL: gpt-3.5-turbo
2025-06-04 13:06:03,268 - app.main - INFO - EMBEDDING_MODEL: text-embedding-3-small
2025-06-04 13:06:03,268 - app.main - INFO - AWS_CDN_URL: https://edith.nyc3.cdn.digitaloceanspaces.com
2025-06-04 13:06:03,269 - app.main - INFO - DEBUG: False
2025-06-04 13:06:03,269 - app.main - INFO - CORS_ORIGINS: ['*']
2025-06-04 13:06:25,859 - app.services.chat_service - INFO - Generating response for query: What this image is?
2025-06-04 13:06:26,331 - app.services.chat_service - INFO - Processing chat history for provider: openai
2025-06-04 13:06:26,331 - app.services.chat_service - INFO - Chat history length: 0
2025-06-04 13:06:26,332 - app.services.chat_service - INFO - Added system message
2025-06-04 13:06:26,332 - app.services.chat_service - INFO - Final messages count: 1
2025-06-04 13:06:26,332 - app.services.chat_service - INFO - Message roles: ['system']
2025-06-04 13:06:47,408 - app.services.chat_service - ERROR - Error estimating total tokens: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17CE6690>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
2025-06-04 13:06:47,409 - app.services.chat_service - ERROR - Error in generate_stream_response: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17CE6690>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
2025-06-04 13:10:58,151 - app.services.chat_service - INFO - Generating response for query: What this image is?
2025-06-04 13:10:58,158 - app.services.chat_service - INFO - Processing chat history for provider: openai
2025-06-04 13:10:58,158 - app.services.chat_service - INFO - Chat history length: 0
2025-06-04 13:10:58,158 - app.services.chat_service - INFO - Added system message
2025-06-04 13:10:58,158 - app.services.chat_service - INFO - Final messages count: 1
2025-06-04 13:10:58,159 - app.services.chat_service - INFO - Message roles: ['system']
2025-06-04 13:11:19,204 - app.services.chat_service - ERROR - Error estimating total tokens: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17D10BD0>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
2025-06-04 13:11:19,205 - app.services.chat_service - ERROR - Error in generate_stream_response: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17D10BD0>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
2025-06-04 13:14:24,615 - app.services.chat_service - INFO - Generating response for query: What is this image?
2025-06-04 13:14:24,627 - app.services.chat_service - INFO - Processing chat history for provider: openai
2025-06-04 13:14:24,627 - app.services.chat_service - INFO - Chat history length: 0
2025-06-04 13:14:24,628 - app.services.chat_service - INFO - Added system message
2025-06-04 13:14:24,628 - app.services.chat_service - INFO - Final messages count: 1
2025-06-04 13:14:24,628 - app.services.chat_service - INFO - Message roles: ['system']
2025-06-04 13:14:45,678 - app.services.chat_service - ERROR - Error estimating total tokens: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17CE7D90>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
2025-06-04 13:14:45,679 - app.services.chat_service - ERROR - Error in generate_stream_response: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', port=443): Max retries exceeded with url: /encodings/o200k_base.tiktoken (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x000001FF17CE7D90>, 'Connection to openaipublic.blob.core.windows.net timed out. (connect timeout=None)'))
